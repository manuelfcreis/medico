<%= render 'shared/home_banner' %>
<%= render 'shared/doctor_landing' %>
<%= render 'shared/patient_landing' %>
<%= render 'shared/footer' %>




<% content_for(:js_content) do %>
<script>
  const btnDoctor = document.getElementById("btn-home-doctor");
  const landingDoc = document.getElementById("landing-doc");
  const btnPatient = document.getElementById("btn-home-patient");
  const landingPatient = document.getElementById("landing-patient");

  const mq = window.matchMedia( "(min-width: 320px)" );
  const nav = document.getElementById("navbar");
  const menu = document.getElementById("navbar-menu");
  const navBtn = document.getElementById("hamburger-btn");

  if (mq.matches) {
    nav.classList.add("scrolled");
    nav.classList.remove("initial");
  } else {
    const lastScrollTop = 0;

    window.addEventListener("scroll", function(){
     const st = window.pageYOffset || document.documentElement.scrollTop;
     console.log(st);

     if (st > lastScrollTop){
      nav.classList.add("scrolled");
      nav.classList.remove("initial");
      menu.classList.remove("hidden");
      // hide burger
      nav.querySelector("i").classList.add('hidden');
     } else {
      nav.classList.add("initial");
      nav.classList.remove("scrolled");
      menu.classList.add("hidden");
      nav.querySelector("i").classList.remove('hidden');
     };
    //lastScrollTop = st;
    }, false);

    navBtn.addEventListener("click", () => {
      nav.classList.add("scrolled");
      nav.classList.remove("initial");
      menu.classList.remove("hidden");
      navBtn.classList.add("hidden");
    });
  }

  function visitedButton1()
  {
    document.getElementById('btn-home-doctor').setAttribute("class", "style1");
  }
  function visitedButton2()
  {
    document.getElementById('btn-home-patient').setAttribute("class", "style1");
  }

  btnDoctor.addEventListener("click", () => {
    landingPatient.classList.add("hidden");
    landingDoc.classList.remove("hidden");
    landingDoc.scrollIntoView({behavior: "smooth", block: "start"});
    visitedButton1();
  });

  btnPatient.addEventListener("click", () => {
    landingDoc.classList.add("hidden");
    landingPatient.classList.remove("hidden");
    landingPatient.scrollIntoView({behavior: "smooth", block: "start"});
    visitedButton2();
  });

</script>
<% end %>




