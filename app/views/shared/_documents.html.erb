<div class="appointments">
  <h4> Documents list: </h4>
    <ul class="list-group">

      <% if locals[:user].documents.empty? %>
        <li class="list-group-item">You don't have any Documents</li>
      <% end %>

      <% locals[:user].documents.each do |doc| %>
        <li class="list-group-item" style="padding: 4px 0px 6px 20px;">
          <%= link_to doc.file.url, target: "_blank" do %>
            <strong><%= doc.name %></strong>
          <% end %>
          <div class="buttons" style="form { height: 45px; }">
            <%= button_to document_path(doc), method: :delete, class: 'reject' do %>
              <%= icon('times') %>
            <% end %>
          </div>
        </li>
      <% end %>
    </ul>

    <%= button_to '#', method: :get, remote: true, 'data-toggle': 'modal', 'data-target': '#document-form', id: 'document-button', class: "btn btn-primary new-document #{current_class}" do %>
      <%= icon('paperclip') %> New Document
    <% end %>

</div>

<%= content_for(:js_content) do %>
  <div id="document-form" class="modal fade" role="dialog" style="background-color: rgba(0, 0, 0, 0.07);">
    <div class="modal-dialog" style="padding: 0;">
      <div class="modal-content">
        <h4>New Document:</h4>
          <%= simple_form_for([locals[:user], locals[:user].documents.new]) do |f| %>
            <%= f.input :name %>
              <%= f.input :description %>
              <div class="field">
                <%= f.input :file %>
                <%= f.input :file_cache, as: :hidden %>
              </div>
            <%= f.submit 'Upload', class: 'btn btn-primary' %>
          <% end %>
      </div>
    </div>
  </div>
<% end %>

